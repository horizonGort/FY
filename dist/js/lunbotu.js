"use strict";for(var box=$id("slider"),width=box.offsetWidth,imgArr=box.children[0].children[0].children,sliderCtrl=box.children[1],prev=$id("prev"),index=0,i=0;i<imgArr.length;i++){var span=document.createElement("span");span.className="slider-ctrl-con",span.innerHTML=i,sliderCtrl.insertBefore(span,prev),imgArr[i].style.left=width+"px"}var spanArr=sliderCtrl.children;spanArr[index].className="slider-ctrl-con current",imgArr[index].style.left=0,sliderCtrl.onclick=function(e){var r,e=(e=e||window.event).target||e.srcElement;"prev"==e.className?(console.log("你点击了上一张按钮"),(r=index-1)<0&&(r=imgArr.length-1),imgArr[r].style.left=-width+"px",animate(imgArr[index],{left:width}),animate(imgArr[r],{left:0}),index=r,light()):"next"==e.className?(console.log("你点击了下一张按钮"),nextImg()):-1<e.className.indexOf("slider-ctrl-con")&&(console.log("你点击了小圆点,点击的小圆点的索引是"+e.innerHTML),r=e.innerHTML,index<r?(imgArr[r].style.left=width+"px",animate(imgArr[index],{left:-width}),animate(imgArr[r],{left:0})):r<index&&(imgArr[r].style.left=-width+"px",animate(imgArr[index],{left:width}),animate(imgArr[r],{left:0})),index=r,light())},sliderCtrl.onmouseover=function(e){e=(e=e||window.event).target||e.srcElement;-1<e.className.indexOf("slider-ctrl-con")&&(console.log("你点击了小圆点,点击的小圆点的索引是"+e.innerHTML),e=e.innerHTML,index<e?(imgArr[e].style.left=width+"px",animate(imgArr[index],{left:-width}),animate(imgArr[e],{left:0})):e<index&&(imgArr[e].style.left=-width+"px",animate(imgArr[index],{left:width}),animate(imgArr[e],{left:0})),index=e,light())};var sliderctrl=$id("slider-ctrl");sliderctrl.children[0].style.left="20px",sliderctrl.children[1].style.left="40px",sliderctrl.children[2].style.left="60px",sliderctrl.children[3].style.left="80px",sliderctrl.children[4].style.left="100px",sliderctrl.children[5].style.left="120px",sliderctrl.children[6].style.left="140px",sliderctrl.children[7].style.left="160px";var timer=setInterval(nextImg,2500);function light(){for(var e=0;e<imgArr.length;e++)spanArr[e].className="slider-ctrl-con";spanArr[index].className="slider-ctrl-con current"}function nextImg(){var e=+index+1;e>imgArr.length-1&&(e=0),imgArr[e].style.left=width+"px",animate(imgArr[index],{left:-width}),animate(imgArr[e],{left:0}),index=e,light()}box.onmouseenter=function(){clearInterval(timer)},box.onmouseleave=function(){clearInterval(timer),timer=setInterval(nextImg,2500)};